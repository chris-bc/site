<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Adding Photo Galleries to a Jekyll Site &#8211; BENNETTSCASH</title>
<meta name="description" content="A short guide on adding a sexy (if I say so myself) photo gallery to a Jekyll site (this one)">
<meta name="keywords" content="development, web, html, css, javascript">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Adding Photo Galleries to a Jekyll Site">
<meta name="twitter:description" content="A short guide on adding a sexy (if I say so myself) photo gallery to a Jekyll site (this one)">
<meta name="twitter:site" content="@chris_bc">
<meta name="twitter:creator" content="@chris_bc">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://192.168.0.137:4000/images/gallery-title.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_AU">
<meta property="og:type" content="article">
<meta property="og:title" content="Adding Photo Galleries to a Jekyll Site">
<meta property="og:description" content="A short guide on adding a sexy (if I say so myself) photo gallery to a Jekyll site (this one)">
<meta property="og:url" content="http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/">
<meta property="og:site_name" content="BENNETTSCASH">





<link rel="canonical" href="http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/">
<link href="http://192.168.0.137:4000/feed.xml" type="application/atom+xml" rel="alternate" title="BENNETTSCASH Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://192.168.0.137:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://192.168.0.137:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://192.168.0.137:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://192.168.0.137:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://192.168.0.137:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://192.168.0.137:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://192.168.0.137:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://192.168.0.137:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://192.168.0.137:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://192.168.0.137:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://192.168.0.137:4000/">BENNETTSCASH</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				    <li><a href="http://192.168.0.137:4000/posts/" >All Posts</a></li>
				
				    
				    <li><a href="http://192.168.0.137:4000/gallery/" >Photos</a></li>
				
				    
				    <li><a href="http://www.bennettscash.id.au/old-index.html" target="_blank">Old Site</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


  <div class="image-wrap">
  <img src=
    
      "http://192.168.0.137:4000/images/gallery-title.jpg"
    
  alt="Adding Photo Galleries to a Jekyll Site feature image">
  
  </div><!-- /.image-wrap -->


<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="http://schema.org/Person">


	<img src="http://192.168.0.137:4000/images/bio-photo.jpg" class="bio-photo" alt="Chris Bennetts-Cash bio photo">


  <h3 itemprop="name">Chris Bennetts-Cash</h3>
  <p>Climber. Software engineer. Audio geek.</p>
  <a href="mailto:chris@bennettscash.id.au" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i>Email</a>
  <a href="http://twitter.com/chris_bc" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  <a href="http://facebook.com/bennettscash" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>
  
  
  
  
  <a href="http://github.com/chris-bc" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/1517/chris-b-c" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
</div>
  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/" rel="bookmark" title="Adding Photo Galleries to a Jekyll Site">Adding Photo Galleries to a Jekyll Site</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>As you can probably tell I use the <a href="http://jekyllrb.com">Jekyll</a> static site processing engine as the basis for this site. I switched to Jekyll only a few months ago when, after ignoring my site for some time, I wanted to add some content and discovered that my Drupal database had been broken into and all content deleted. This came on the back of years of continued Wordpress patching (or lack of patching followed by defacing of my site), and finally I’d had enough and felt a yearning for the good old days when sites were simple and didn’t need dynamic content or databases.</p>

<p>After some Googling I found Jekyll, which fit the bill perfectly and dead simple to create great-looking pages to boot.</p>

<p>But then came the day I wanted to add a photo gallery.</p>

<p>It turned out that was dead simple too, but was an interesting process. And from the research I did I think I approached it slightly differently (and I think - of course) with slightly better results than other sites I found describing how to do the same thing.</p>

<p>So without further ado:</p>

<h4 id="step-1-define-your-data">Step 1. Define your data</h4>
<p>Create a YAML data file describing your galleries in your jekyll _data directory.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">gilli-diving</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Diving on Gilli Air</span>
  <span class="na">imagefolder</span><span class="pi">:</span> <span class="s">/images/2015-gilli</span>
  <span class="na">images</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">gilli-1.jpg</span>
    <span class="na">thumb</span><span class="pi">:</span> <span class="s">thumb-1.jpg</span>
    <span class="na">text</span><span class="pi">:</span> <span class="s">Hanging at the bungalow drinking coconuts</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">gilli-2.jpg</span>
    <span class="na">thumb</span><span class="pi">:</span> <span class="s">thumb-2.jpg</span>
    <span class="na">text</span><span class="pi">:</span> <span class="s">View from our room</span>
<span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">perp-anzac</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">Point Perp</span>
  <span class="na">imagefolder</span><span class="pi">:</span> <span class="s">/images/2015-perp</span>
  <span class="na">images</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">perp-1.jpg</span>
    <span class="na">thumb</span><span class="pi">:</span> <span class="s">thumb-1.jpg</span>
    <span class="na">text</span><span class="pi">:</span> <span class="s">Brittany's first ever trad lead</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">perp-2.jpg</span>
    <span class="na">thumb</span><span class="pi">:</span> <span class="s">thumb-2.jpg</span>
    <span class="na">text</span><span class="pi">:</span> <span class="s">On my way up</span></code></pre></figure>

<h4 id="step-2-add-a-galleries-link-to-your-navigation">Step 2. Add a galleries link to your navigation</h4>
<p>Add an entry to <code class="language-plaintext highlighter-rouge">_data/navigation.yml</code> directing to your galleries page (we’ll create it next).</p>

<h4 id="step-3-create-your-galleries-page">Step 3. Create your galleries page</h4>
<p>Create a new page wherever your galleries link was pointing - For me that was <code class="language-plaintext highlighter-rouge">/gallery/index.md</code>. This page creates thumbnail links to each gallery, using a gallery image (randomised each time the site is re-generated).</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">---
layout: page
title: "Galleries"
---
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"overflow: auto;"</span><span class="nt">&gt;</span>
{% for gallery in site.data.galleries %}
{% assign random = site.time | date: "%s%N" | modulo: gallery.images.size %}
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"gallery-thumb"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ gallery.id }}.html"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;img</span> <span class="na">alt=</span><span class="s">"{{ gallery.description }}"</span> <span class="na">title=</span><span class="s">"{{ gallery.description }}"</span> <span class="na">src=</span><span class="s">"{{ gallery.imagefolder }}/{{ gallery.images[random].thumb }}"</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;p&gt;</span>{{ gallery.description }}<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>{{ gallery.images | size }} images<span class="nt">&lt;/p&gt;</span>
		<span class="nt">&lt;/a&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
{% endfor %}
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<p>Don’t worry about the CSS, we’ll deal with that later.</p>

<h4 id="step-4-define-a-gallery-layout">Step 4. Define a gallery layout</h4>
<p>You’ll need a (mostly-blank) markdown page for each gallery, but first we’re going to define the layout template used to display a gallery.
Create <code class="language-plaintext highlighter-rouge">_layouts/gallery.html</code> using something like:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">---
layout: page
---
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"/assets/css/extra.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span>

{% for gallery in site.data.galleries %}
	{% if gallery.id == page.galleryid %}
		<span class="nt">&lt;h1&gt;</span>{{ gallery.description }}<span class="nt">&lt;/h1&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"list-gallery"</span><span class="nt">&gt;</span>
		{% for image in gallery.images %}
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ gallery.imagefolder }}/{{ image.name }}"</span> <span class="na">itemprop=</span><span class="s">"url"</span> <span class="na">title=</span><span class="s">"{{ image.text }}"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;img</span> <span class="na">alt=</span><span class="s">"{{ image.text }}"</span> <span class="na">title=</span><span class="s">"{{ image.text }}"</span> <span class="na">src=</span><span class="s">"{{ gallery.imagefolder }}/{{ image.thumb }}"</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;/a&gt;</span>
		{% endfor %}
		<span class="nt">&lt;/div&gt;</span>
	{% endif %}
{% endfor %}</code></pre></figure>

<h4 id="step-5-create-your-gallery-pages">Step 5. Create your gallery pages</h4>
<p>This step is trivial but, because Jekyll generates static pages, needs to be done. Create a new markdown page in your gallery’s <code class="language-plaintext highlighter-rouge">imagefolder</code> for each gallery. My <code class="language-plaintext highlighter-rouge">gallery/gilli-diving.md</code>, for example, is:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">gallery</span>
<span class="na">galleryid</span><span class="pi">:</span> <span class="s">gilli-diving</span>
<span class="nn">---</span></code></pre></figure>

<h4 id="step-6-make-it-pretty">Step 6. Make it pretty</h4>
<p>A few SASS niceties largely finish things off. I created a new file <code class="language-plaintext highlighter-rouge">_sass/extra.scss</code>, importing it into `assets/css/main.scss’ with</p>

<figure class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="k">@import</span> <span class="s">"extra"</span></code></pre></figure>

<p>_sass/extra.scss:</p>

<figure class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="nv">%gallery</span> <span class="nt">img</span> <span class="err">{</span>
	<span class="nl">padding</span><span class="p">:</span> <span class="m">3px</span> <span class="o">!</span><span class="n">important</span><span class="err">;</span>
	<span class="nl">margin</span><span class="p">:</span> <span class="m">1px</span> <span class="m">1px</span> <span class="m">0</span> <span class="m">0</span><span class="err">;</span>
	<span class="nl">height</span><span class="p">:</span> <span class="m">150px</span><span class="err">;</span>
<span class="err">}</span>

<span class="nv">%gallery</span> <span class="nt">img</span><span class="nd">:hover</span> <span class="err">{</span>
	<span class="nl">border</span><span class="p">:</span> <span class="mh">#009999</span> <span class="nb">solid</span> <span class="m">3px</span> <span class="o">!</span><span class="n">important</span><span class="err">;</span>
	<span class="nl">padding</span><span class="p">:</span> <span class="m">0px</span> <span class="o">!</span><span class="n">important</span><span class="err">;</span>
<span class="err">}</span>

<span class="nc">.list-gallery</span> <span class="err">{</span>
	<span class="k">@extend</span> <span class="nv">%gallery</span><span class="o">;</span>
	<span class="nl">line-height</span><span class="p">:</span> <span class="m">0</span><span class="err">;</span>
<span class="err">}</span>

<span class="nc">.gallery-thumb</span> <span class="err">{</span>
	<span class="k">@extend</span> <span class="nv">%gallery</span><span class="o">;</span>
	<span class="nt">text-align</span><span class="nd">:center</span><span class="o">;</span>
	<span class="nt">display</span><span class="nd">:block</span><span class="o">;</span>
	<span class="nl">margin</span><span class="p">:</span> <span class="m">3px</span><span class="err">;</span>
	<span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="err">;</span>
	<span class="nl">vertical-align</span><span class="p">:</span> <span class="nb">middle</span><span class="err">;</span>
<span class="err">}</span></code></pre></figure>

<h4 id="step-7-add-lightbox-support">Step 7. Add Lightbox support</h4>
<p>I also added <a href="http://lokeshdhakar.com/projects/lightbox2/">Lightbox</a> support when I was initially building this, and then became extremely confused about why I had two Lightbox-like photo slideshows layered atop one another. It looks like Jekyll already comes bundled with Lightbox, making this unnecessary.</p>

<p>So there you have it. Done, and it looks like <a href="/gallery/">this</a>.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://192.168.0.137:4000/posts/adding-photo-galleries-to-a-jekyll-site/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Adding Photo Galleries to a Jekyll Site</strong> was published on <time datetime="2015-05-02T07:11:24+10:00">May 02, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://192.168.0.137:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://192.168.0.137:4000/posts/load-testing-the-euro-death-knot/" title="Load Testing the Euro Death Knot (flat overhand)">Load Testing the Euro Death Knot (flat overhand)</a></li>
    
      <li><a href="http://192.168.0.137:4000/posts/some-love-for-the-munter-hitch/" title="For the Love of the Munter Hitch">For the Love of the Munter Hitch</a></li>
    
      <li><a href="http://192.168.0.137:4000/posts/free-time-in-nz-summer-2015/" title="Free Time in NZ (Summer 2015)">Free Time in NZ (Summer 2015)</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    

<span>&copy; 2024 Chris Bennetts-Cash. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://192.168.0.137:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://192.168.0.137:4000/assets/js/scripts.min.js"></script>

	        

</body>
</html>